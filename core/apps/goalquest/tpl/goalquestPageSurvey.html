<!-- ======== GOALQUEST SURVEY TAKE PAGE ======== -->

<div id="goalQuestPageSurvey" class="page-content"><div class="row">

    <!-- DIV.ROW up next to wrapping div.page-content for IE7 -->
        <div class="span12" id="surveyTakeView">

            <!-- content generated by surveyPageTakeTpl -->

        </div><!-- /.span12 -->
    </div><!-- /.row -->
</div>

<!-- Instantiate the PageView - this goes here as it expresses the DOM element the PageView is getting attached to -->
<script>
    $(document).ready(function() {

        // if desired, the surveyJson object from core/base/ajax/goalquestPageTakeSurvey.json can be embedded here
        var surveyJson;

        //attach the view to an existing DOM element
        G5.views.GoalquestSurveyPageTake = new SurveyPageTakeView({
            el:$('#goalQuestPageSurvey'),
            pageNav : {
                back : {
                    text : 'Back',
                    url : 'layout.html?tpl=forumPage&tplPath=apps/goalquest/tpl/'
                },
                home : {
                    text : 'Home',
                    url : 'layout.html?tplPath=base/tpl/&amp;tpl=modulesPage.html'
                }
            },
            pageTitle : 'Survey',
            surveyJson : surveyJson,
            // options to pass to the SurveyModel
            modelOpts: {
                url: {
                    load: G5.props.URL_ROOT+'ajax/goalquestPageTakeSurvey.json',
                    submit: G5.props.URL_ROOT+'ajax/goalquestPageSaveSurvey.json',
                    save: G5.props.URL_ROOT+'ajax/goalquestPageSubmitSurvey.json'
                }
            },
            // I have been doing some experimenting with passing CM keys as JSON instead of embedding within the JSPs, but haven't perfected the technique yet
            // That said, I want to try this out on this particular page
            cm : {
                btn : {
                    done : "Done",
                    submit : "Submit Survey",
                    save : "Save for Later"
                }
            }
        });

    });
</script>

<!-- NOTE: in the JSP, add an include for surveyTakeTpl here
     The script tags should be used as they are written (commenting removed, of course)
<script type="text/template" id="surveyTakeTplTpl">
    <jsp:include page="path/to/surveyTakeTpl.html"></jsp:include>
</script> -->