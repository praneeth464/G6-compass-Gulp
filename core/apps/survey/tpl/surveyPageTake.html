<!-- ======== SURVEY TAKE PAGE ======== -->

<div id="surveyPageTakeView" class="page-content"><div class="row">

    <!-- DIV.ROW up next to wrapping div.page-content for IE7 -->
        <div class="span12" id="surveyTakeView">

            <!-- content generated by surveyPageTakeTpl -->

        </div><!-- /.span12 -->
    </div><!-- /.row -->
</div>

<!-- overrides for the JSON variables (these are set in settings.js but provided here for convenience in creating a JSP) -->
<script>
// G5.props.URL_JSON_SURVEY_PAGE_TAKE_SURVEY = G5.props.URL_ROOT+'ajax/surveyPageTakeSurvey.json';
// G5.props.URL_JSON_SURVEY_PAGE_SAVE_SURVEY = G5.props.URL_ROOT+'ajax/surveyPageSaveSurvey.json';
// G5.props.URL_JSON_SURVEY_PAGE_SUBMIT_SURVEY = G5.props.URL_ROOT+'ajax/surveyPageSubmitSurvey.json';
</script>

<!-- Instantiate the PageView - this goes here as it expresses the DOM element the PageView is getting attached to -->
<script>
    $(document).ready(function() {

        // if desired, the surveyJson object from core/base/ajax/surveyPageTakeSurvey.json can be embedded here
        var surveyJson;

        //attach the view to an existing DOM element
        G5.views.SurveyPageTake = new SurveyPageTakeView({
            el:$('#surveyPageTakeView'),
            pageNav : {
                back : {
                    text : 'Back',
                    url : 'layout.html?tpl=surveyPage&tplPath=apps/survey/tpl/'
                },
                home : {
                    text : 'Home',
                    url : 'layout.html?tplPath=base/tpl/&amp;tpl=modulesPage.html'
                }
            },
            pageTitle : 'Take a Survey',
            surveyJson : surveyJson,
            // options to pass to the SurveyModel
            modelOpts: {},
            // I have been doing some experimenting with passing CM keys as JSON instead of embedding within the JSPs, but haven't perfected the technique yet
            // That said, I want to try this out on this particular page
            cm : {
                btn : {
                    done : "Done",
                    submit : "Submit Survey",
                    save : "Save for Later"
                }
            }
        });

    });
</script>

<!-- NOTE: the following includes were added to make this shell behave like the JSP -->
<script type="text/template" id="surveyTakeTplTpl">
    <jsp:include page="surveyTakeTpl.html"></jsp:include>
    <?php include("surveyTakeTpl.html"); ?>
</script>