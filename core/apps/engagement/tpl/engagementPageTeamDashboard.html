<!-- ======== ENGAGEMENT PAGE TEAM DASHBOARD ======== -->

<div id="engagementPageTeamDashboard" class="engagement engagementPage engagementPageTeamDashboard page-content"><div class="row">

    <!-- DIV.ROW up next to wrapping div.page-content for IE7 -->
        <div class="span12">

            <!-- the EngagementModelView should always be inserted into an element with class 'engagementModelView' -->
            <div class="engagementModelView"></div><!-- /.engagementModelView -->

        </div><!-- /.span12 -->
    </div><!-- /.row -->
</div>

<!-- Instantiate the PageView - this goes here as it expresses the DOM element the PageView is getting attached to -->
<script>
    $(document).ready(function() {
        // overrides for the JSON variables (these are set in settings.js but provided here for convenience in creating a JSP)
        // G5.props.URL_JSON_ENGAGEMENT_MODEL = G5.props.URL_ROOT+'ajax/engagementModel.json';
        // G5.props.URL_JSON_ENGAGEMENT_TEAM_MEMBERS_COLLECTION = G5.props.URL_ROOT+'ajax/engagementTeamMembersCollection.json';

        //attach the view to an existing DOM element
        G5.views.EngagementPageTeamDashboard = new EngagementPageTeamDashboardView({
            el:$('#engagementPageTeamDashboard'),
            pageNav : {
                back : {
                    text : 'Back',
                    url : 'layout.html'
                },
                home : {
                    text : 'Home',
                    url : 'layout.html?tplPath=base/tpl/&amp;tpl=modulesPage.html'
                }
            },
            pageTitle : 'Team Dashboard',

            // mode can be team/user
            mode : 'team',
            // if this page needs to display the dashboard for a team that isn't the currently-logged in user's main team, send a nodeId. Otherwise, null is fine.
            nodeId: 54321
        });

    });
</script>

<!-- NOTE: the following includes were added to make this shell behave like the JSP -->
<script type="text/template" id="engagementModelTpl">
    <jsp:include page="engagementModel.html"></jsp:include>
    <?php include("engagementModel.html"); ?>
</script>

<script type="text/template" id="engagementSummaryCollectionTpl">
    <jsp:include page="engagementSummaryCollection.html"></jsp:include>
    <?php include("engagementSummaryCollection.html"); ?>
</script>

<script type="text/template" id="engagementSummaryModelTpl">
    <jsp:include page="engagementSummaryModel.html"></jsp:include>
    <?php include("engagementSummaryModel.html"); ?>
</script>

<script type="text/template" id="engagementDetailRecTpl">
    <jsp:include page="engagementDetailRec.html"></jsp:include>
    <?php include("engagementDetailRec.html"); ?>
</script>

<script type="text/template" id="engagementDetailPaxTpl">
    <jsp:include page="engagementDetailPax.html"></jsp:include>
    <?php include("engagementDetailPax.html"); ?>
</script>

<script type="text/template" id="engagementDetailVisitsTpl">
    <jsp:include page="engagementDetailVisits.html"></jsp:include>
    <?php include("engagementDetailVisits.html"); ?>
</script>

<script type="text/template" id="engagementDetailScoreTpl">
    <jsp:include page="engagementDetailScore.html"></jsp:include>
    <?php include("engagementDetailScore.html"); ?>
</script>

<script type="text/template" id="engagementTeamMembersTpl">
    <jsp:include page="engagementTeamMembers.html"></jsp:include>
    <?php include("engagementTeamMembers.html"); ?>
</script>

<script type="text/template" id="engagementTeamMembersCollectionTpl">
    <jsp:include page="engagementTeamMembersCollection.html"></jsp:include>
    <?php include("engagementTeamMembersCollection.html"); ?>
</script>
